name: Sync Fork

on:
  schedule:
    - cron: '59 * * * *' # every 30 minutes
  workflow_dispatch: # on button click

# jobs:
#   sync:

#     runs-on: ubuntu-latest

#     steps:
#       - uses: tgymnich/fork-sync@v1.4
#         with:
#           token: ${{ secrets.FORK_NEWS_TOKEN }}
#           owner: KingRan
#           base: main
#           head: main
#           auto_approve: true
jobs:
  fork-news:
    runs-on: ubuntu-latest
    name: Sync with parent repository
    steps:
      - id: fork-news-sync
        uses: vitornovictor/fork-news@v1.0.0
        with:
          from-branch: main
          to-branch: main
          access-token: ${{ secrets.FORK_NEWS_TOKEN }}
